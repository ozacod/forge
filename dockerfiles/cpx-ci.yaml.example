# cpx-ci.yaml - Cross-compilation configuration
# Docker images must exist locally (use 'docker pull' to download)
#
# Each target can have its own build configuration that overrides global defaults:
#   build_type: Debug, Release, RelWithDebInfo, MinSizeRel (default: Release)
#   cmake_options: Additional CMake arguments for this target
#   build_options: Additional build arguments (cmake --build args)
#   env: Environment variables for the build

toolchains:
  # Docker-based build for Linux
  - name: "linux-gcc"
    runner: "docker"
    docker:
      image: "gcc:13"
    build_type: "Release"
    # cmake_options: []
    # build_options: []
    # env:
    #   CC: "gcc"
    #   CXX: "g++"

  # Native build on host machine (CMake only)
  # - name: "local-debug"
  #   runner: "native"
  #   build_type: "Debug"
  #   cmake_options:
  #     - "-DCMAKE_EXPORT_COMPILE_COMMANDS=ON"
  #   build_options:
  #     - "--verbose"
  #   env:
  #     CC: "clang"
  #     CXX: "clang++"

# Global build configuration (used as defaults if not specified per-target)
build:
  type: Release
  optimization: 2
  jobs: 0
  cmake_args: []
  build_args: []

# Output directory for artifacts
output: .bin/ci
