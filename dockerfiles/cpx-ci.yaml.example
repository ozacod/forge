# cpx-ci.yaml - CI toolchain configuration
# runners: execution environments (docker/ssh) with optional compiler settings
# toolchains: named build configurations

runners:
  - name: docker-gcc
    type: docker
    image: gcc:13
    cc: gcc-13
    cxx: g++-13

  - name: docker-clang
    type: docker
    image: silkeh/clang:17
    cc: clang-17
    cxx: clang++-17

  # SSH runner example
  # - name: build-server
  #   type: ssh
  #   host: server.example.com
  #   user: builder
  #   cc: gcc-12
  #   cxx: g++-12

toolchains:
  - name: linux-release
    runner: docker-gcc
    build_type: Release

  - name: linux-debug
    runner: docker-gcc
    build_type: Debug

  - name: clang-release
    runner: docker-clang
    build_type: Release

  # Local build (no runner specified = native)
  - name: local-release
    build_type: Release

  # Disable a toolchain without removing it
  - name: experimental
    runner: docker-gcc
    build_type: RelWithDebInfo
    active: false
